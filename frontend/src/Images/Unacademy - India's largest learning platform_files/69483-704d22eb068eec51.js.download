(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69483],{69483:function(a,b,c){!/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/ function(b){a.exports=b()}(function(){return(function d(e,f,b){function c(a,j){if(!f[a]){if(!e[a]){var k=void 0;if(!j&&k)return require(a,!0);if(g)return g(a,!0);var i=Error("Cannot find module '"+a+"'");throw i.code="MODULE_NOT_FOUND",i}var h=f[a]={exports:{}};e[a][0].call(h.exports,function(b){var d;return c(e[a][1][b]||b)},h,h.exports,d,e,f,b)}return f[a].exports}for(var g=void 0,a=0;a<b.length;a++)c(b[a]);return c})({1:[function(a,b,d){(function(a){"use strict";var c,h,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var i=0,e=new d(k),f=a.document.createTextNode("");e.observe(f,{characterData:!0}),c=function(){f.data=i=++i%2}}else if(a.setImmediate|| void 0===a.MessageChannel)c="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){k(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(k,0)};else{var g=new a.MessageChannel;g.port1.onmessage=k,c=function(){g.port2.postMessage(0)}}var j=[];function k(){h=!0;for(var a,c,b=j.length;b;){for(c=j,j=[],a=-1;++a<b;)c[a]();b=j.length}h=!1}b.exports=function(a){1!==j.push(a)||h||c()}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(d,e,f){"use strict";var g=d(1);function h(){}var c={},i=["REJECTED"],j=["FULFILLED"],k=["PENDING"];function a(a){if("function"!=typeof a)throw TypeError("resolver must be a function");this.state=k,this.queue=[],this.outcome=void 0,a!==h&&n(this,a)}function b(c,a,b){this.promise=c,"function"==typeof a&&(this.onFulfilled=a,this.callFulfilled=this.otherCallFulfilled),"function"==typeof b&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function l(a,b,d){g(function(){var e;try{e=b(d)}catch(f){return c.reject(a,f)}e===a?c.reject(a,TypeError("Cannot resolve promise with itself")):c.resolve(a,e)})}function m(a){var b=a&&a.then;if(a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof b)return function(){b.apply(a,arguments)}}function n(d,e){var f=!1;function b(a){!f&&(f=!0,c.reject(d,a))}function g(a){!f&&(f=!0,c.resolve(d,a))}var a=o(function(){e(g,b)});"error"===a.status&&b(a.value)}function o(b,c){var a={};try{a.value=b(c),a.status="success"}catch(d){a.status="error",a.value=d}return a}e.exports=a,a.prototype.catch=function(a){return this.then(null,a)},a.prototype.then=function(a,c){if("function"!=typeof a&&this.state===j||"function"!=typeof c&&this.state===i)return this;var d=new this.constructor(h);return this.state!==k?l(d,this.state===j?a:c,this.outcome):this.queue.push(new b(d,a,c)),d},b.prototype.callFulfilled=function(a){c.resolve(this.promise,a)},b.prototype.otherCallFulfilled=function(a){l(this.promise,this.onFulfilled,a)},b.prototype.callRejected=function(a){c.reject(this.promise,a)},b.prototype.otherCallRejected=function(a){l(this.promise,this.onRejected,a)},c.resolve=function(a,b){var d=o(m,b);if("error"===d.status)return c.reject(a,d.value);var e=d.value;if(e)n(a,e);else{a.state=j,a.outcome=b;for(var f=-1,g=a.queue.length;++f<g;)a.queue[f].callFulfilled(b)}return a},c.reject=function(a,b){a.state=i,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},a.resolve=function(a){return a instanceof this?a:c.resolve(new this(h),a)},a.reject=function(a){var b=new this(h);return c.reject(b,a)},a.all=function(a){var f=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(TypeError("must be an array"));var b=a.length,g=!1;if(!b)return this.resolve([]);for(var i=Array(b),j=0,d=-1,e=new this(h);++d<b;)k(a[d],d);return e;function k(a,d){f.resolve(a).then(function(a){i[d]=a,++j!==b||g||(g=!0,c.resolve(e,i))},function(a){g||(g=!0,c.reject(e,a))})}},a.race=function(a){var f=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(TypeError("must be an array"));var b=a.length,g=!1;if(!b)return this.resolve([]);for(var d=-1,e=new this(h);++d<b;)i(a[d]);return e;function i(a){f.resolve(a).then(function(a){g||(g=!0,c.resolve(e,a))},function(a){g||(g=!0,c.reject(e,a))})}}},{"1":1}],3:[function(a,b,d){(function(b){"use strict";"function"!=typeof b.Promise&&(b.Promise=a(2))}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"2":2}],4:[function(b,c,o){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},q=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(a){return}}();function r(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(d){if("TypeError"!==d.name)throw d;for(var e=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),c=0;c<a.length;c+=1)e.append(a[c]);return e.getBlob(b.type)}}"undefined"==typeof Promise&&b(3);var s=Promise;function t(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function u(a,b,c){"function"==typeof b&&a.then(b),"function"==typeof c&&a.catch(c)}function v(a){return"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a)),a}function w(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var x="local-forage-detect-blob-support",y=void 0,z={},A=Object.prototype.toString,B="readonly",C="readwrite";function D(c){var a=z[c.name],b={};b.promise=new s(function(a,c){b.resolve=a,b.reject=c}),a.deferredOperations.push(b),a.dbReady?a.dbReady=a.dbReady.then(function(){return b.promise}):a.dbReady=b.promise}function E(b){var a=z[b.name].deferredOperations.pop();if(a)return a.resolve(),a.promise}function F(b,c){var a=z[b.name].deferredOperations.pop();if(a)return a.reject(c),a.promise}function G(a,b){return new s(function(e,f){if(z[a.name]=z[a.name]||O(),a.db){if(!b)return e(a.db);D(a),a.db.close()}var d=[a.name];b&&d.push(a.version);var c=q.open.apply(q,d);b&&(c.onupgradeneeded=function(b){var d=c.result;try{d.createObjectStore(a.storeName),b.oldVersion<=1&&d.createObjectStore(x)}catch(e){if("ConstraintError"===e.name)console.warn('The database "'+a.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+a.storeName+'" already exists.');else throw e}}),c.onerror=function(a){a.preventDefault(),f(c.error)},c.onsuccess=function(){var b=c.result;b.onversionchange=function(a){a.target.close()},e(b),E(a)}})}function H(a){return G(a,!1)}function I(a){return G(a,!0)}function J(a,d){if(!a.db)return!0;var b=!a.db.objectStoreNames.contains(a.storeName),e=a.version<a.db.version,f=a.version>a.db.version;if(e&&(a.version!==d&&console.warn('The database "'+a.name+"\" can't be downgraded from version "+a.db.version+" to version "+a.version+"."),a.version=a.db.version),f||b){if(b){var c=a.db.version+1;c>a.version&&(a.version=c)}return!0}return!1}function K(a){return r([function(b){for(var c=b.length,d=new ArrayBuffer(c),e=new Uint8Array(d),a=0;a<c;a++)e[a]=b.charCodeAt(a);return d}(atob(a.data))],{type:a.type})}function L(a){return a&&a.__local_forage_encoded_blob}function M(a){var c=this,b=c._initReady().then(function(){var a=z[c._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return u(b,a,a),b}function N(a,e,b,c){void 0===c&&(c=1);try{var f=a.db.transaction(a.storeName,e);b(null,f)}catch(d){if(c>0&&(!a.db||"InvalidStateError"===d.name||"NotFoundError"===d.name))return s.resolve().then(function(){if(!a.db||"NotFoundError"===d.name&&!a.db.objectStoreNames.contains(a.storeName)&&a.version<=a.db.version)return a.db&&(a.version=a.db.version+1),I(a)}).then(function(){return(function(a){D(a);for(var e=z[a.name],d=e.forages,b=0;b<d.length;b++){var c=d[b];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return a.db=null,H(a).then(function(b){return(a.db=b,J(a))?I(a):b}).then(function(c){a.db=e.db=c;for(var b=0;b<d.length;b++)d[b]._dbInfo.db=c}).catch(function(b){throw F(a,b),b})})(a).then(function(){N(a,e,b,c-1)})}).catch(b);b(d)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var d={_driver:"asyncStorage",_initStorage:function(c){var b=this,d={db:null};if(c)for(var f in c)d[f]=c[f];var a=z[d.name];a||(a=O(),z[d.name]=a),a.forages.push(b),b._initReady||(b._initReady=b.ready,b.ready=M);var g=[];function i(){return s.resolve()}for(var e=0;e<a.forages.length;e++){var h=a.forages[e];h!==b&&g.push(h._initReady().catch(i))}var j=a.forages.slice(0);return s.all(g).then(function(){return d.db=a.db,H(d)}).then(function(a){return(d.db=a,J(d,b._defaultConfig.version))?I(d):a}).then(function(f){d.db=a.db=f,b._dbInfo=d;for(var c=0;c<j.length;c++){var e=j[c];e!==b&&(e._dbInfo.db=d.db,e._dbInfo.version=d.version)}})},_support:function(){try{if(!q||!q.open)return!1;var a="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b="function"==typeof fetch&& -1!==fetch.toString().indexOf("[native code");return(!a||b)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(c){return!1}}(),iterate:function(c,b){var d=this,a=new s(function(b,a){d.ready().then(function(){N(d._dbInfo,B,function(e,g){if(e)return a(e);try{var f=g.objectStore(d._dbInfo.storeName).openCursor(),i=1;f.onsuccess=function(){var a=f.result;if(a){var d=a.value;L(d)&&(d=K(d));var e=c(d,a.key,i++);void 0!==e?b(e):a.continue()}else b()},f.onerror=function(){a(f.error)}}catch(h){a(h)}})}).catch(a)});return t(a,b),a},getItem:function(a,c){var d=this;a=v(a);var b=new s(function(c,b){d.ready().then(function(){N(d._dbInfo,B,function(e,g){if(e)return b(e);try{var f=g.objectStore(d._dbInfo.storeName).get(a);f.onsuccess=function(){var a=f.result;void 0===a&&(a=null),L(a)&&(a=K(a)),c(a)},f.onerror=function(){b(f.error)}}catch(h){b(h)}})}).catch(b)});return t(b,c),b},setItem:function(a,d,c){var e=this;a=v(a);var b=new s(function(c,b){var f;e.ready().then(function(){var a,b;return(f=e._dbInfo,"[object Blob]"===A.call(d))?(a=f.db,"boolean"==typeof y?s.resolve(y):(b=a,new s(function(d){var a=b.transaction(x,C),c=r([""]);a.objectStore(x).put(c,"key"),a.onabort=function(a){a.preventDefault(),a.stopPropagation(),d(!1)},a.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/);d(navigator.userAgent.match(/Edge\//)||!a||parseInt(a[1],10)>=43)}}).catch(function(){return!1})).then(function(a){return y=a})).then(function(a){var b;return a?d:(b=d,new s(function(d,c){var a=new FileReader;a.onerror=c,a.onloadend=function(a){d({__local_forage_encoded_blob:!0,data:btoa(a.target.result||""),type:b.type})},a.readAsBinaryString(b)}))}):d}).then(function(d){N(e._dbInfo,C,function(g,f){if(g)return b(g);try{var h=f.objectStore(e._dbInfo.storeName);null===d&&(d=void 0);var j=h.put(d,a);f.oncomplete=function(){void 0===d&&(d=null),c(d)},f.onabort=f.onerror=function(){var a=j.error?j.error:j.transaction.error;b(a)}}catch(i){b(i)}})}).catch(b)});return t(b,c),b},removeItem:function(a,c){var d=this;a=v(a);var b=new s(function(c,b){d.ready().then(function(){N(d._dbInfo,C,function(f,e){if(f)return b(f);try{var h=e.objectStore(d._dbInfo.storeName).delete(a);e.oncomplete=function(){c()},e.onerror=function(){b(h.error)},e.onabort=function(){var a=h.error?h.error:h.transaction.error;b(a)}}catch(g){b(g)}})}).catch(b)});return t(b,c),b},clear:function(b){var c=this,a=new s(function(b,a){c.ready().then(function(){N(c._dbInfo,C,function(e,d){if(e)return a(e);try{var g=d.objectStore(c._dbInfo.storeName).clear();d.oncomplete=function(){b()},d.onabort=d.onerror=function(){var b=g.error?g.error:g.transaction.error;a(b)}}catch(f){a(f)}})}).catch(a)});return t(a,b),a},length:function(b){var c=this,a=new s(function(b,a){c.ready().then(function(){N(c._dbInfo,B,function(d,f){if(d)return a(d);try{var e=f.objectStore(c._dbInfo.storeName).count();e.onsuccess=function(){b(e.result)},e.onerror=function(){a(e.error)}}catch(g){a(g)}})}).catch(a)});return t(a,b),a},key:function(c,b){var d=this,a=new s(function(a,b){if(c<0){a(null);return}d.ready().then(function(){N(d._dbInfo,B,function(e,g){if(e)return b(e);try{var h=g.objectStore(d._dbInfo.storeName),j=!1,f=h.openKeyCursor();f.onsuccess=function(){var b=f.result;if(!b){a(null);return}0===c?a(b.key):j?a(b.key):(j=!0,b.advance(c))},f.onerror=function(){b(f.error)}}catch(i){b(i)}})}).catch(b)});return t(a,b),a},keys:function(b){var c=this,a=new s(function(b,a){c.ready().then(function(){N(c._dbInfo,B,function(d,f){if(d)return a(d);try{var e=f.objectStore(c._dbInfo.storeName).openKeyCursor(),h=[];e.onsuccess=function(){var a=e.result;if(!a){b(h);return}h.push(a.key),a.continue()},e.onerror=function(){a(e.error)}}catch(g){a(g)}})}).catch(a)});return t(a,b),a},dropInstance:function(a,d){d=w.apply(this,arguments);var b,c=this.config();if((a="function"!=typeof a&&a||{}).name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName),a.name){var e=a.name===c.name&&this._dbInfo.db?s.resolve(this._dbInfo.db):H(a).then(function(b){var d=z[a.name],e=d.forages;d.db=b;for(var c=0;c<e.length;c++)e[c]._dbInfo.db=b;return b});b=a.storeName?e.then(function(b){if(b.objectStoreNames.contains(a.storeName)){var f=b.version+1;D(a);var g=z[a.name],d=g.forages;b.close();for(var c=0;c<d.length;c++){var e=d[c];e._dbInfo.db=null,e._dbInfo.version=f}return new s(function(c,d){var b=q.open(a.name,f);b.onerror=function(a){b.result.close(),d(a)},b.onupgradeneeded=function(){b.result.deleteObjectStore(a.storeName)},b.onsuccess=function(){var a=b.result;a.close(),c(a)}}).then(function(b){g.db=b;for(var a=0;a<d.length;a++){var c=d[a];c._dbInfo.db=b,E(c._dbInfo)}}).catch(function(b){throw(F(a,b)||s.resolve()).catch(function(){}),b})}}):e.then(function(d){D(a);var e=z[a.name],c=e.forages;d.close();for(var b=0;b<c.length;b++)c[b]._dbInfo.db=null;return new s(function(c,d){var b=q.deleteDatabase(a.name);b.onerror=function(){var a=b.result;a&&a.close(),d(b.error)},b.onblocked=function(){console.warn('dropInstance blocked for database "'+a.name+'" until all open connections are closed')},b.onsuccess=function(){var a=b.result;a&&a.close(),c(a)}}).then(function(b){e.db=b;for(var a=0;a<c.length;a++)E(c[a]._dbInfo)}).catch(function(b){throw(F(a,b)||s.resolve()).catch(function(){}),b})})}else b=s.reject("Invalid arguments");return t(b,d),b}},P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=/^~~local_forage_type~([^~]+)~/,e="__lfsc__:",f=e.length,g="arbf",R="blob",S="si08",T="ui08",U="uic8",V="si16",W="si32",X="ur16",Y="ui32",Z="fl32",$="fl64",_=f+g.length,aa=Object.prototype.toString;function h(a){var b,h,c,d,i,e=.75*a.length,k=a.length,f=0;"="===a[a.length-1]&&(e--,"="===a[a.length-2]&&e--);var j=new ArrayBuffer(e),g=new Uint8Array(j);for(b=0;b<k;b+=4)h=P.indexOf(a[b]),c=P.indexOf(a[b+1]),d=P.indexOf(a[b+2]),i=P.indexOf(a[b+3]),g[f++]=h<<2|c>>4,g[f++]=(15&c)<<4|d>>2,g[f++]=(3&d)<<6|63&i;return j}function i(d){var b,c=new Uint8Array(d),a="";for(b=0;b<c.length;b+=3)a+=P[c[b]>>2],a+=P[(3&c[b])<<4|c[b+1]>>4],a+=P[(15&c[b+1])<<2|c[b+2]>>6],a+=P[63&c[b+2]];return c.length%3==2?a=a.substring(0,a.length-1)+"=":c.length%3==1&&(a=a.substring(0,a.length-2)+"=="),a}var ab={serialize:function(b,d){var a="";if(b&&(a=aa.call(b)),b&&("[object ArrayBuffer]"===a||b.buffer&&"[object ArrayBuffer]"===aa.call(b.buffer))){var f,c=e;b instanceof ArrayBuffer?(f=b,c+=g):(f=b.buffer,"[object Int8Array]"===a?c+=S:"[object Uint8Array]"===a?c+=T:"[object Uint8ClampedArray]"===a?c+=U:"[object Int16Array]"===a?c+=V:"[object Uint16Array]"===a?c+=X:"[object Int32Array]"===a?c+=W:"[object Uint32Array]"===a?c+=Y:"[object Float32Array]"===a?c+=Z:"[object Float64Array]"===a?c+=$:d(Error("Failed to get type for BinaryArray"))),d(c+i(f))}else if("[object Blob]"===a){var h=new FileReader;h.onload=function(){var a="~~local_forage_type~"+b.type+"~"+i(this.result);d(e+R+a)},h.readAsArrayBuffer(b)}else try{d(JSON.stringify(b))}catch(j){console.error("Couldn't convert value into a JSON string: ",b),d(null,j)}},deserialize:function(c){if(c.substring(0,f)!==e)return JSON.parse(c);var i,b=c.substring(_),d=c.substring(f,_);if(d===R&&Q.test(b)){var j=b.match(Q);i=j[1],b=b.substring(j[0].length)}var a=h(b);switch(d){case g:return a;case R:return r([a],{type:i});case S:return new Int8Array(a);case T:return new Uint8Array(a);case U:return new Uint8ClampedArray(a);case V:return new Int16Array(a);case X:return new Uint16Array(a);case W:return new Int32Array(a);case Y:return new Uint32Array(a);case Z:return new Float32Array(a);case $:return new Float64Array(a);default:throw Error("Unkown type: "+d)}},stringToBuffer:h,bufferToString:i};function ac(a,b,c,d){a.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],c,d)}function ad(a,f,b,c,d,e){a.executeSql(b,c,d,function(g,a){a.code===a.SYNTAX_ERR?g.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[f.storeName],function(g,h){h.rows.length?e(g,a):ac(g,f,function(){g.executeSql(b,c,d,e)},e)},e):e(g,a)},e)}function ae(a,d,c,e){var f=this;a=v(a);var b=new s(function(g,b){f.ready().then(function(){void 0===d&&(d=null);var i=d,h=f._dbInfo;h.serializer.serialize(d,function(j,d){d?b(d):h.db.transaction(function(c){ad(c,h,"INSERT OR REPLACE INTO "+h.storeName+" (key, value) VALUES (?, ?)",[a,j],function(){g(i)},function(c,a){b(a)})},function(d){if(d.code===d.QUOTA_ERR){if(e>0){g(ae.apply(f,[a,i,c,e-1]));return}b(d)}})})}).catch(b)});return t(b,c),b}var j={_driver:"webSQLStorage",_initStorage:function(a){var e=this,c={db:null};if(a)for(var b in a)c[b]="string"!=typeof a[b]?a[b].toString():a[b];var d=new s(function(d,a){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(b){return a(b)}c.db.transaction(function(b){ac(b,c,function(){e._dbInfo=c,d()},function(c,b){a(b)})},a)});return c.serializer=ab,d},_support:"function"==typeof openDatabase,iterate:function(c,b){var d=this,a=new s(function(b,a){d.ready().then(function(){var e=d._dbInfo;e.db.transaction(function(d){ad(d,e,"SELECT * FROM "+e.storeName,[],function(j,h){for(var f=h.rows,i=f.length,d=0;d<i;d++){var g=f.item(d),a=g.value;if(a&&(a=e.serializer.deserialize(a)),void 0!==(a=c(a,g.key,d+1))){b(a);return}}b()},function(c,b){a(b)})})}).catch(a)});return t(a,b),a},getItem:function(a,c){var d=this;a=v(a);var b=new s(function(c,b){d.ready().then(function(){var e=d._dbInfo;e.db.transaction(function(d){ad(d,e,"SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[a],function(d,b){var a=b.rows.length?b.rows.item(0).value:null;a&&(a=e.serializer.deserialize(a)),c(a)},function(c,a){b(a)})})}).catch(b)});return t(b,c),b},setItem:function(a,b,c){return ae.apply(this,[a,b,c,1])},removeItem:function(a,c){var d=this;a=v(a);var b=new s(function(c,b){d.ready().then(function(){var e=d._dbInfo;e.db.transaction(function(d){ad(d,e,"DELETE FROM "+e.storeName+" WHERE key = ?",[a],function(){c()},function(c,a){b(a)})})}).catch(b)});return t(b,c),b},clear:function(b){var c=this,a=new s(function(b,a){c.ready().then(function(){var d=c._dbInfo;d.db.transaction(function(c){ad(c,d,"DELETE FROM "+d.storeName,[],function(){b()},function(c,b){a(b)})})}).catch(a)});return t(a,b),a},length:function(b){var c=this,a=new s(function(b,a){c.ready().then(function(){var d=c._dbInfo;d.db.transaction(function(c){ad(c,d,"SELECT COUNT(key) as c FROM "+d.storeName,[],function(c,a){b(a.rows.item(0).c)},function(c,b){a(b)})})}).catch(a)});return t(a,b),a},key:function(c,b){var d=this,a=new s(function(b,a){d.ready().then(function(){var e=d._dbInfo;e.db.transaction(function(d){ad(d,e,"SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[c+1],function(c,a){b(a.rows.length?a.rows.item(0).key:null)},function(c,b){a(b)})})}).catch(a)});return t(a,b),a},keys:function(b){var c=this,a=new s(function(b,a){c.ready().then(function(){var d=c._dbInfo;d.db.transaction(function(c){ad(c,d,"SELECT key FROM "+d.storeName,[],function(e,c){for(var d=[],a=0;a<c.rows.length;a++)d.push(c.rows.item(a).key);b(d)},function(c,b){a(b)})})}).catch(a)});return t(a,b),a},dropInstance:function(a,c){c=w.apply(this,arguments);var b,d=this.config();(a="function"!=typeof a&&a||{}).name||(a.name=a.name||d.name,a.storeName=a.storeName||d.storeName);var e=this;return b=a.name?new s(function(c){var b,f;c((b=a.name===d.name?e._dbInfo.db:openDatabase(a.name,"","",0),a.storeName)?{db:b,storeNames:[a.storeName]}:(f=b,new s(function(a,b){f.transaction(function(c){c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,c){for(var d=[],b=0;b<c.rows.length;b++)d.push(c.rows.item(b).name);a({db:f,storeNames:d})},function(c,a){b(a)})},function(a){b(a)})})))}).then(function(a){return new s(function(b,c){a.db.transaction(function(h){function f(a){return new s(function(b,c){h.executeSql("DROP TABLE IF EXISTS "+a,[],function(){b()},function(b,a){c(a)})})}for(var e=[],d=0,g=a.storeNames.length;d<g;d++)e.push(f(a.storeNames[d]));s.all(e).then(function(){b()}).catch(function(a){c(a)})},function(a){c(a)})})}):s.reject("Invalid arguments"),t(b,c),b}};function af(a,c){var b=a.name+"/";return a.storeName!==c.storeName&&(b+=a.storeName+"/"),b}var k={_driver:"localStorageWrapper",_initStorage:function(a){var c=this,b={};if(a)for(var d in a)b[d]=a[d];return(b.keyPrefix=af(a,c._defaultConfig),!function(){var a="_localforage_support_test";try{return localStorage.setItem(a,!0),localStorage.removeItem(a),!1}catch(b){return!0}}()||localStorage.length>0)?(c._dbInfo=b,b.serializer=ab,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(a){return!1}}(),iterate:function(d,b){var c=this,a=c.ready().then(function(){for(var f=c._dbInfo,g=f.keyPrefix,h=g.length,i=localStorage.length,j=1,b=0;b<i;b++){var e=localStorage.key(b);if(0===e.indexOf(g)){var a=localStorage.getItem(e);if(a&&(a=f.serializer.deserialize(a)),void 0!==(a=d(a,e.substring(h),j++)))return a}}});return t(a,b),a},getItem:function(a,c){var d=this;a=v(a);var b=d.ready().then(function(){var c=d._dbInfo,b=localStorage.getItem(c.keyPrefix+a);return b&&(b=c.serializer.deserialize(b)),b});return t(b,c),b},setItem:function(a,e,c){var d=this;a=v(a);var b=d.ready().then(function(){void 0===e&&(e=null);var b=e;return new s(function(f,g){var c=d._dbInfo;c.serializer.serialize(e,function(h,e){if(e)g(e);else try{localStorage.setItem(c.keyPrefix+a,h),f(b)}catch(d){("QuotaExceededError"===d.name||"NS_ERROR_DOM_QUOTA_REACHED"===d.name)&&g(d),g(d)}})})});return t(b,c),b},removeItem:function(a,c){var d=this;a=v(a);var b=d.ready().then(function(){var b=d._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return t(b,c),b},clear:function(b){var c=this,a=c.ready().then(function(){for(var d=c._dbInfo.keyPrefix,a=localStorage.length-1;a>=0;a--){var b=localStorage.key(a);0===b.indexOf(d)&&localStorage.removeItem(b)}});return t(a,b),a},length:function(b){var a=this.keys().then(function(a){return a.length});return t(a,b),a},key:function(d,b){var c=this,a=c.ready().then(function(){var a,b=c._dbInfo;try{a=localStorage.key(d)}catch(e){a=null}return a&&(a=a.substring(b.keyPrefix.length)),a});return t(a,b),a},keys:function(b){var c=this,a=c.ready().then(function(){for(var b=c._dbInfo,f=localStorage.length,d=[],a=0;a<f;a++){var e=localStorage.key(a);0===e.indexOf(b.keyPrefix)&&d.push(e.substring(b.keyPrefix.length))}return d});return t(a,b),a},dropInstance:function(a,c){if(c=w.apply(this,arguments),!(a="function"!=typeof a&&a||{}).name){var b,d=this.config();a.name=a.name||d.name,a.storeName=a.storeName||d.storeName}var e=this;return b=a.name?new s(function(b){b(a.storeName?af(a,e._defaultConfig):a.name+"/")}).then(function(c){for(var a=localStorage.length-1;a>=0;a--){var b=localStorage.key(a);0===b.indexOf(c)&&localStorage.removeItem(b)}}):s.reject("Invalid arguments"),t(b,c),b}},ag=function(d,e){for(var a,b,f=d.length,c=0;c<f;){if(a=d[c],a===(b=e)||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b))return!0;c++}return!1},ah=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},ai={},aj={},a={INDEXEDDB:d,WEBSQL:j,LOCALSTORAGE:k},l=[a.INDEXEDDB._driver,a.WEBSQL._driver,a.LOCALSTORAGE._driver],m=["dropInstance"],ak=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(m),al={description:"",driver:l.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function am(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function an(){for(var c=1;c<arguments.length;c++){var a=arguments[c];if(a)for(var b in a)a.hasOwnProperty(b)&&(ah(a[b])?arguments[0][b]=a[b].slice():arguments[0][b]=a[b])}return arguments[0]}var n=new(function(){function b(f){for(var c in!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,b),a)if(a.hasOwnProperty(c)){var d=a[c],e=d._driver;this[c]=e,ai[e]||this.defineDriver(d)}this._defaultConfig=an({},al),this._config=an({},this._defaultConfig,f),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return b.prototype.config=function(a){if((void 0===a?"undefined":p(a))==="object"){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var b in a){if("storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),"version"===b&&"number"!=typeof a[b])return Error("Database version must be a number.");this._config[b]=a[b]}return!("driver"in a)||!a.driver||this.setDriver(this._config.driver)}return"string"==typeof a?this._config[a]:(0,this._config)},b.prototype.defineDriver=function(d,b,c){var a=new s(function(j,a){try{var k=d._driver,f=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!d._driver){a(f);return}for(var g=ak.concat("_initStorage"),b=0,h=g.length;b<h;b++){var c=g[b];if((!ag(m,c)||d[c])&&"function"!=typeof d[c]){a(f);return}}(function(){for(var c=function(a){return function(){var c=Error("Method "+a+" is not implemented by the current driver"),b=s.reject(c);return t(b,arguments[arguments.length-1]),b}},a=0,e=m.length;a<e;a++){var b=m[a];d[b]||(d[b]=c(b))}})();var e=function(a){ai[k]&&console.info("Redefining LocalForage driver: "+k),ai[k]=d,aj[k]=a,j()};"_support"in d?d._support&&"function"==typeof d._support?d._support().then(e,a):e(!!d._support):e(!0)}catch(i){a(i)}});return u(a,b,c),a},b.prototype.driver=function(){return this._driver||null},b.prototype.getDriver=function(a,c,d){var b=ai[a]?s.resolve(ai[a]):s.reject(Error("Driver not found."));return u(b,c,d),b},b.prototype.getSerializer=function(b){var a=s.resolve(ab);return u(a,b),a},b.prototype.ready=function(a){var c=this,b=c._driverSet.then(function(){return null===c._ready&&(c._ready=c._initDriver()),c._ready});return u(b,a,a),b},b.prototype.setDriver=function(a,b,c){var e=this;ah(a)||(a=[a]);var f=this._getSupportedDrivers(a);function g(){e._config.driver=e.driver()}function h(a){return e._extend(a),g(),e._ready=e._initStorage(e._config),e._ready}var d=null!==this._driverSet?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=d.then(function(){var a=f[0];return e._dbInfo=null,e._ready=null,e.getDriver(a).then(function(a){var b;e._driver=a._driver,g(),e._wrapLibraryMethodsWithReady(),e._initDriver=(b=f,function(){var c=0;function a(){for(;c<b.length;){var d=b[c];return c++,e._dbInfo=null,e._ready=null,e.getDriver(d).then(h).catch(a)}g();var f=Error("No available storage method found.");return e._driverSet=s.reject(f),e._driverSet}return a()})})}).catch(function(){g();var a=Error("No available storage method found.");return e._driverSet=s.reject(a),e._driverSet}),u(this._driverSet,b,c),this._driverSet},b.prototype.supports=function(a){return!!aj[a]},b.prototype._extend=function(a){an(this,a)},b.prototype._getSupportedDrivers=function(b){for(var c=[],a=0,e=b.length;a<e;a++){var d=b[a];this.supports(d)&&c.push(d)}return c},b.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0,b=ak.length;a<b;a++)am(this,ak[a])},b.prototype.createInstance=function(a){return new b(a)},b}());c.exports=n},{"3":3}]},{},[4])(4)})}}])
//# sourceMappingURL=69483-704d22eb068eec51.js.map